# video

## Сценарии использования

Встроенное видео на странице.

**Когда выбрать другой элемент:**

- Видео с YouTube/Vimeo → `iframe`
- Анимация без звука, короткая → `img` с GIF или CSS-анимация
- Фоновое видео без управления → можно `video`, но с `aria-hidden`

## Связанные элементы

| Элемент   | Связь                              |
| --------- | ---------------------------------- |
| `source`  | Дочерний — варианты форматов       |
| `track`   | Дочерний — субтитры, описания      |
| `figure`  | Родитель — видео с подписью        |

## Необходимые атрибуты

### Всегда

| Атрибут | Назначение                              |
| ------- | --------------------------------------- |
| `src`   | Путь к видео (или `source` внутри)      |

### По ситуации

| Атрибут       | Когда                                      |
| ------------- | ------------------------------------------ |
| `controls`    | Пользователь управляет воспроизведением    |
| `autoplay`    | Автозапуск (требует `muted`)               |
| `muted`       | Без звука — обязательно для autoplay       |
| `loop`        | Зацикленное воспроизведение                |
| `poster`      | Превью до воспроизведения                  |
| `preload`     | `none` / `metadata` / `auto`               |
| `playsinline` | Воспроизведение inline на iOS              |
| `width` / `height` | Предотвращает сдвиг layout            |

⚠️ `autoplay` без `muted` блокируется браузерами.

## Визуальные состояния

| Состояние | Описание                              |
| --------- | ------------------------------------- |
| `loading` | Показывать `poster` или скелетон      |
| `playing` | Воспроизведение                       |
| `paused`  | На паузе                              |
| `error`   | Ошибка загрузки — fallback-сообщение  |

## Правила доступности

- `controls` — всегда, если пользователь должен управлять видео
- Субтитры через `track` — обязательны для видео с речью
- Описание для незрячих → `track kind="descriptions"`
- Автозапуск → только `muted`, избегать если возможно
- Фоновое декоративное видео → `aria-hidden="true"`
- Контент внутри `video` — fallback для старых браузеров

## SEO

- Поисковики индексируют видео
- `poster` может появиться в результатах поиска
- Структурированные данные (schema.org/VideoObject) улучшают представление

## Пример

```tsx
{/* Базовое видео с управлением */}
<video
    src="/videos/intro.mp4"
    controls
    poster="/images/intro-poster.jpg"
    width={800}
    height={450}
    preload="metadata"
>
    Ваш браузер не поддерживает видео.
</video>

{/* С несколькими форматами и субтитрами */}
<video
    controls
    poster="/images/tutorial-poster.jpg"
    width={800}
    height={450}
>
    <source src="/videos/tutorial.webm" type="video/webm" />
    <source src="/videos/tutorial.mp4" type="video/mp4" />
    <track
        src="/videos/tutorial-ru.vtt"
        kind="subtitles"
        srcLang="ru"
        label="Русские субтитры"
        default
    />
    Ваш браузер не поддерживает видео.
</video>

{/* Фоновое видео */}
<video
    src="/videos/background.mp4"
    autoPlay
    muted
    loop
    playsInline
    aria-hidden="true"
    className="background-video"
/>
```
